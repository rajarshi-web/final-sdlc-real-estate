<div class="container-fluid">

    <!-- Page Heading -->
    <div class="card shadow p-3 d-flex flex-row justify-content-between align-items-center">
        <h1 class="h3 mb-2 text-gray-800 m-0">Product Details</h1>
        <a href="/Product-add" class="btn btn-info">Add Product</a>
    </div>


    <!-- DataTales Example -->
    <div class="card shadow mb-4">
        <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary">&nbsp;</h6>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <% if(data.length>0){%>
                    <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                        <thead>
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">object id</th>
                                <th scope="col">name</th>
                                <th scope="col">description</th>
                                <th scope="col">category</th>
                                <th scope="col">size</th>
                                <th scope="col">price</th>
                                <th scope="col">stock</th>
                                <th scope="col">images</th>
                                <th colspan="2">Action</th>
                            </tr>
                        </thead>
                        <tfoot>
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">object id</th>
                                <th scope="col">name</th>
                                <th scope="col">description</th>
                                <th scope="col">category</th>
                                <th scope="col">size</th>
                                <th scope="col">price</th>
                                <th scope="col">stock</th>
                                <th scope="col">images</th>
                                <th colspan="2">Action</th>
                            </tr>
                        </tfoot>
                        <tbody>

                            <% data.forEach((item, index)=> {%>
                                <tr>
                                    <th scope="row">
                                        <%= index + 1 %>
                                    </th>
                                    <td>
                                        <%=item._id%>
                                    </td>
                                    <td>
                                        <%=item.name%>
                                    </td>
                                    <td>
                                        <%=item.description%>
                                    </td>
                                    <td>
                                        <%=item.category%>
                                    </td>
                                    <td>
                                        <%=item.size%>
                                    </td>
                                    <td>
                                        <%=item.price%>
                                    </td>
                                    <td>
                                        <%=item.stock%>
                                    </td>
                                    <td>
                                        <% if (item.images && item.images.length > 0) { %>
                                            <% item.images.forEach(img => { %>
                                            <img src="<%= img.url %>" 
                                            alt="Product Image"
                                            width="80" height="80"
                                            style="margin: 2px; border:1px solid #ccc; border-radius:5px;">
                                            <% }) %>
                                            <% } else { %>
                                            No images
                                            <% } %>
                                    </td>

                                    <td><a href="/property-edit/<%= property._id %>" class="btn btn-primary">Edit</a></td>
                                    <td><a href="/Product-delete/<%= item._id %>" class="btn btn-danger">Delete</a></td>
                                </tr>

                        </tbody>
                        <%})%>
                    </table>
                    <% }else{%>
                        <h1>No Product Found</h1>
                        <%}%>
            </div>
        </div>
    </div>

</div>